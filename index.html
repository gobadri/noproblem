<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Solve your problems with AI</title>
        <style>
            @import url("https://fonts.googleapis.com/css2?family=BBH+Hegarty&display=swap");

            :root {
                --bg-color: #131314;
                --surface-color: #1e1f20;
                --user-msg-bg: #282a2c;
                --text-color: #fff;
                --accent-color: #444746;
                --input-bg: #1e1f20;
            }

            body {
                margin: 0;
                padding: 0;
                font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
                background-color: var(--bg-color);
                color: var(--text-color);
                height: 100vh;
                display: flex;
                flex-direction: column;
                overflow: hidden;
            }

            /* Header */
            header {
                padding: 20px;
                display: flex;
                align-items: center;
                justify-content: space-between;
                position: absolute;
                top: 0;
                width: 100%;
                box-sizing: border-box;
                z-index: 10;
            }

            .logo {
                font-family: "BBH Hegarty", sans-serif;
                font-size: 1.2em;
                color: var(--text-color);
                margin-block: 2rem;
                margin-left: 5rem;
                position: relative;
            }

            .logo span {
                position: absolute;
                right: -30px;
                top: -8px;
                font-size: 1.35em;
                font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
                font-weight: 200;
            }

            /* Main Layout Wrapper */
            #main-wrapper {
                display: flex;
                flex-direction: column;
                height: 90%;
                margin-top: auto;
                transition: all 0.5s ease-in-out;
            }

            #main-wrapper.center-mode {
                justify-content: center;
                align-items: center;
            }

            #main-wrapper.chat-mode {
                justify-content: flex-end;
            }

            /* Greeting */
            #greeting {
                text-align: center;
                margin-bottom: 40px;
                transition:
                    opacity 0.4s ease,
                    transform 0.4s ease;
            }

            #greeting h1 {
                font-size: 3rem;
                margin: 0;
                background: linear-gradient(90deg, #7070c2, #c17171);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;

                span {
                    font-family: "BBH Hegarty", sans-serif;
                }
            }

            #greeting p {
                color: #8e9196;
                font-size: 1.2rem;
                margin-top: 10px;

                &:first-of-type {
                    font-weight: bold;
                    color: #fff;
                }

                &:last-of-type {
                    margin-top: 3.5rem;
                }
            }

            .hidden {
                display: none !important;
            }
            .fade-out {
                opacity: 0;
                transform: translateY(-20px);
                pointer-events: none;
            }

            /* Chat History */
            #chat-container {
                flex: 1;
                width: 100%;
                max-width: 800px;
                margin: 0 auto;
                overflow-y: auto;
                padding: 80px 20px 20px 20px;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                gap: 20px;
                opacity: 0;
                transition: opacity 0.5s ease;
            }

            #chat-container.visible {
                opacity: 1;
            }

            /* Messages */
            .message {
                display: flex;
                gap: 15px;
                line-height: 1.6;
                opacity: 0;
                animation: slideIn 0.3s forwards;
            }

            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .avatar {
                width: 30px;
                height: 30px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-shrink: 0;
            }

            .user-avatar {
                background-color: #5f6368;
                color: white;
                font-size: 14px;
            }

            .message-content {
                padding-top: 4px;
                max-width: 100%;
            }

            .message.user {
                flex-direction: row-reverse;
            }

            .message.user .message-content {
                background-color: var(--user-msg-bg);
                padding: 10px 15px;
                border-radius: 18px 4px 18px 18px;
            }

            /* Input Area */
            #input-area {
                width: 100%;
                display: flex;
                justify-content: center;
                padding: 20px;
                box-sizing: border-box;
                background-color: var(--bg-color);
                z-index: 20;
            }

            .input-wrapper {
                background-color: var(--input-bg);
                border-radius: 30px;
                display: flex;
                align-items: center;
                padding: 12px 20px;
                width: 100%;
                max-width: 800px;
                transition: all 0.3s ease;
            }

            .input-wrapper:focus-within {
                background-color: #2b2c2e;
            }

            input {
                flex: 1;
                background: transparent;
                border: none;
                color: white;
                font-size: 16px;
                outline: none;
                padding: 5px;
            }

            button {
                background: transparent;
                border: none;
                cursor: pointer;
                color: #e3e3e3;
                padding: 8px;
                transition: background 0.2s;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
            }

            button:hover {
                background-color: #3c4043;
            }
            button svg {
                width: 24px;
                height: 24px;
                fill: currentColor;
            }

            /* Loading Animation */
            .loading-wrapper {
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .typing-indicator {
                display: flex;
                gap: 4px;
            }

            .dot {
                width: 4px;
                height: 4px;
                background-color: #d9d9d9;
                border-radius: 50%;
                animation: bounce 1.4s infinite ease-in-out both;
            }

            .dot:nth-child(1) {
                animation-delay: -0.32s;
            }
            .dot:nth-child(2) {
                animation-delay: -0.16s;
            }

            .status-text {
                font-size: 0.95rem;
                color: #d9d9d9; /* Light blue to match dots */
                animation: pulseText 2s infinite ease-in-out;
            }

            @keyframes bounce {
                0%,
                80%,
                100% {
                    transform: scale(0);
                }
                40% {
                    transform: scale(1);
                }
            }

            @keyframes pulseText {
                0%,
                100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0.6;
                }
            }
        </style>
    </head>
    <body>
        <header>
            <div class="logo">No Problem <span> AI</span></div>
        </header>

        <div id="main-wrapper" class="center-mode">
            <div id="chat-container"></div>

            <div id="greeting">
                <h1>Hello, It's <span>NoProblem</span></h1>
                <p>The first AI agent to help you solve your problems.</p>
                <p>Tell me your problem.</p>
            </div>

            <div id="input-area">
                <div class="input-wrapper">
                    <input
                        type="text"
                        id="user-input"
                        placeholder="Write a problem here"
                        autocomplete="off"
                    />
                    <button id="send-btn">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"
                            ></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <script>
            const inputField = document.getElementById("user-input");
            const sendBtn = document.getElementById("send-btn");
            const chatContainer = document.getElementById("chat-container");
            const mainWrapper = document.getElementById("main-wrapper");
            const greeting = document.getElementById("greeting");

            let isFirstMessage = true;

            const getAiIcon = () => {
                return `<svg
                   width="24"
                   height="24"
                   viewBox="0 0 24 24"
                   fill="none">
                  <path
                     d="m 13.365631,2.8614804 0.577591,1.7327707 a 8.6370129,8.6370129 0 0 0 5.462526,5.4625259 l 1.73277,0.577591 a 1.4395022,1.4395022 0 0 1 0,2.731263 l -1.73277,0.577591 a 8.6370129,8.6370129 0 0 0 -5.462526,5.462526 l -0.577591,1.73277 a 1.4395022,1.4395022 0 0 1 -2.731263,0 l -0.577591,-1.73277 A 8.6370129,8.6370129 0 0 0 4.5942511,13.943222 L 2.8614804,13.365631 a 1.4395022,1.4395022 0 0 1 0,-2.731263 L 4.5942511,10.056777 A 8.6370129,8.6370129 0 0 0 10.056777,4.5942511 l 0.577591,-1.7327707 a 1.4395022,1.4395022 0 0 1 2.731263,0 z"
                     fill="url(#paint_msg_linear)"
                     id="path1"
                     style="fill:url(#paint_msg_linear);stroke-width:1" />
                  <defs
                     id="defs2">
                    <linearGradient
                       id="linearGradient112"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop111"
                         style="stop-color:#c37575;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop112"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient110"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop109"
                         style="stop-color:#c37575;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop110"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient108"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop107"
                         style="stop-color:#c37575;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop108"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient106"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop105"
                         style="stop-color:#c37575;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop106"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient104"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop103"
                         style="stop-color:#d8a6a6;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop104"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient102"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop101"
                         style="stop-color:#d8a6a6;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop102"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient100"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop99"
                         style="stop-color:#f9f1f1;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop100"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient98"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop97"
                         style="stop-color:#e9cccc;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop98"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient96"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop95"
                         style="stop-color:#e5c3c3;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop96"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient94"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop93"
                         style="stop-color:#e2bcbc;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop94"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient92"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop91"
                         style="stop-color:#dfb5b5;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop92"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient90"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop89"
                         style="stop-color:#dbabab;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop90"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient88"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop87"
                         style="stop-color:#d6a2a2;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop88"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient86"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop85"
                         style="stop-color:#ce8e8e;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop86"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient84"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop83"
                         style="stop-color:#c57b7b;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop84"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient82"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop81"
                         style="stop-color:#c27373;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop82"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient80"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop79"
                         style="stop-color:#c27373;stop-opacity:1;"
                         offset="0" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop80"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient78"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop77"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop78"
                         style="stop-color:#9a9ad4;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient76"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop75"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop76"
                         style="stop-color:#9a9ad4;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient74"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop73"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop74"
                         style="stop-color:#9797d3;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient72"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop71"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop72"
                         style="stop-color:#9595d2;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient70"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop69"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop70"
                         style="stop-color:#8e8ecf;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient68"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop67"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop68"
                         style="stop-color:#8484cb;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient66"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop65"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop66"
                         style="stop-color:#7b7bc7;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient64"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop63"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop64"
                         style="stop-color:#7272c3;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient62"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop61"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop62"
                         style="stop-color:#7070c2;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient60"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop59"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop60"
                         style="stop-color:#8c8cce;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient58"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop57"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop58"
                         style="stop-color:#8b8bcd;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient56"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop55"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop56"
                         style="stop-color:#8989cd;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient54"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop53"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop54"
                         style="stop-color:#8686cb;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient52"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop51"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop52"
                         style="stop-color:#8282ca;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient50"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop49"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop50"
                         style="stop-color:#7d7dc8;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient48"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop47"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop48"
                         style="stop-color:#7a7ac6;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient46"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop45"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop46"
                         style="stop-color:#7474c4;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient44"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop43"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop44"
                         style="stop-color:#7171c2;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient42"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop41"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop42"
                         style="stop-color:#6e6ec1;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient40"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop39"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop40"
                         style="stop-color:#9393d1;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient38"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop37"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop38"
                         style="stop-color:#9393d1;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient36"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop35"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop36"
                         style="stop-color:#9292d0;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient34"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop33"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop34"
                         style="stop-color:#9191d0;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient32"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop31"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop32"
                         style="stop-color:#8e8ecf;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient30"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop29"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop30"
                         style="stop-color:#8c8cce;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient28"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop27"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop28"
                         style="stop-color:#8989cd;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient26"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop25"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop26"
                         style="stop-color:#8888cc;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient24"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop23"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop24"
                         style="stop-color:#8686cb;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient22"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop21"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop22"
                         style="stop-color:#8181c9;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient20"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop19"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop20"
                         style="stop-color:#7e7ec8;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient18"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop17"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop18"
                         style="stop-color:#7c7cc7;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient16"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop15"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop16"
                         style="stop-color:#7c7cc7;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient14"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop13"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop14"
                         style="stop-color:#7a7ac6;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient12"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop11"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop12"
                         style="stop-color:#7979c6;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient10"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop9"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop10"
                         style="stop-color:#7878c5;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient8"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop7"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop8"
                         style="stop-color:#7474c4;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient6"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       spreadMethod="pad">
                      <stop
                         stop-color="#4b90ff"
                         id="stop5"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop6"
                         style="stop-color:#6e6ec1;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient4"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)">
                      <stop
                         stop-color="#4b90ff"
                         id="stop3"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop4"
                         style="stop-color:#6d6dc1;stop-opacity:1;" />
                    </linearGradient>
                    <inkscape:path-effect
                       effect="fillet_chamfer"
                       id="path-effect2"
                       is_visible="true"
                       lpeversion="1"
                       nodesatellites_param="F,0,1,1,0,3.262842,0,1 @ F,0,1,1,0,3.262842,0,1 @ F,0,1,1,0,3.262842,0,1 @ F,0,1,1,0,3.262842,0,1 @ F,0,0,1,0,3.262842,0,1 @ F,0,1,1,0,3.262842,0,1 @ F,0,1,1,0,3.262842,0,1 @ F,0,1,1,0,3.262842,0,1"
                       radius="0"
                       unit="px"
                       method="auto"
                       mode="F"
                       chamfer_steps="1"
                       flexible="false"
                       use_knot_distance="true"
                       apply_no_radius="true"
                       apply_with_radius="true"
                       only_selected="false"
                       hide_knots="false" />
                    <linearGradient
                       id="paint_msg_linear"
                       x1="8.6856184"
                       y1="9.2101603"
                       x2="17.432535"
                       y2="11.553889"
                       gradientUnits="userSpaceOnUse"
                       gradientTransform="matrix(1.3235414,0,0,1.3235414,-3.8824973,-3.8824973)"
                       xlink:href="#linearGradient112">
                      <stop
                         stop-color="#4b90ff"
                         id="stop1"
                         style="stop-color:#c17171;stop-opacity:1" />
                      <stop
                         offset="1"
                         stop-color="#ff5546"
                         id="stop2"
                         style="stop-color:#7070c2;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                  <path
                     style="baseline-shift:baseline;display:inline;overflow:visible;vector-effect:none;enable-background:accumulate;stop-color:#000000;stop-opacity:1;opacity:1"
                     d="m 12,1.8613281 c -0.579362,0 -1.160048,0.33366 -1.380859,0.9960938 L 10.042969,4.5898437 C 9.1848221,7.1642829 7.1642829,9.1848221 4.5898437,10.042969 L 2.8574219,10.619141 C 2.1949881,10.839952 1.8613281,11.420638 1.8613281,12 c 0,0.579362 0.33366,1.160048 0.9960938,1.380859 l 1.7324218,0.576172 c 2.5744393,0.858147 4.5949785,2.878686 5.4531253,5.453125 l 0.576172,1.732422 c 0.220811,0.662434 0.801497,0.996094 1.380859,0.996094 0.579362,0 1.160048,-0.33366 1.380859,-0.996094 l 0.576172,-1.732422 c 0.858147,-2.574439 2.878686,-4.594978 5.453125,-5.453125 l 1.732422,-0.576172 C 21.805012,13.160048 22.138672,12.579362 22.138672,12 c 0,-0.579362 -0.33366,-1.160048 -0.996094,-1.380859 L 19.410156,10.042969 C 16.835717,9.1848222 14.815178,7.164283 13.957031,4.5898437 L 13.380859,2.8574219 C 13.160048,2.1949881 12.579362,1.8613281 12,1.8613281 Z m 0,0.03125 c 0.567538,0 1.134911,0.3246552 1.351563,0.9746094 l 0.576171,1.7324219 c 0.861224,2.5836702 2.888986,4.6114327 5.472657,5.4726566 l 1.732421,0.576172 c 0.649955,0.216651 0.97461,0.784024 0.97461,1.351562 0,0.567538 -0.324655,1.134911 -0.97461,1.351563 l -1.732421,0.576171 c -2.583671,0.861224 -4.611433,2.888986 -5.472657,5.472657 l -0.576171,1.732421 c -0.216652,0.649955 -0.784025,0.97461 -1.351563,0.97461 -0.567538,0 -1.134911,-0.324655 -1.351562,-0.97461 L 10.072266,19.400391 C 9.2110421,16.81672 7.1832796,14.788958 4.5996094,13.927734 L 2.8671875,13.351563 C 2.2172333,13.134911 1.8925781,12.567538 1.8925781,12 c 0,-0.567538 0.3246552,-1.134911 0.9746094,-1.351562 L 4.5996094,10.072266 C 7.1832795,9.211042 9.211042,7.1832795 10.072266,4.5996094 L 10.648438,2.8671875 C 10.865089,2.2172333 11.432462,1.8925781 12,1.8925781 Z"
                     id="path112" />
                </svg>
`;
            };

            function sendMessage() {
                const text = inputField.value.trim();
                if (!text) return;

                // UI Transition on first message
                if (isFirstMessage) {
                    greeting.classList.add("fade-out");
                    setTimeout(() => {
                        greeting.classList.add("hidden");
                    }, 750);
                    mainWrapper.classList.remove("center-mode");
                    mainWrapper.classList.add("chat-mode");
                    chatContainer.classList.add("visible");
                    isFirstMessage = false;
                }

                // User Message
                appendMessage(text, "user");
                inputField.value = "";
                inputField.focus();

                // 1. Show "Analyzing..."
                const loadingId = showLoading();

                // 2. Change to "Thinking..." after 1.5 seconds
                setTimeout(() => {
                    const statusText = document.getElementById(
                        loadingId + "-text",
                    );
                    if (statusText) {
                        statusText.textContent = "Thinking...";
                    }
                }, 3500);

                // 3. Reveal Result after 3 seconds (total)
                setTimeout(() => {
                    removeLoading(loadingId);
                    appendMessage("", "ai");
                }, 5000);
            }

            function appendMessage(text, sender) {
                const div = document.createElement("div");
                div.classList.add("message", sender);

                const avatarDiv = document.createElement("div");
                avatarDiv.classList.add(
                    "avatar",
                    sender === "ai" ? "ai-avatar" : "user-avatar",
                );

                if (sender === "ai") {
                    avatarDiv.innerHTML = getAiIcon();
                } else {
                    avatarDiv.textContent = "U";
                }

                const contentDiv = document.createElement("div");
                contentDiv.classList.add("message-content");
                contentDiv.textContent = text;
                contentDiv.dir = "auto";

                if (sender === "user") {
                    div.appendChild(contentDiv);
                    div.appendChild(avatarDiv);
                } else {
                    div.appendChild(avatarDiv);
                    div.appendChild(contentDiv);
                }

                chatContainer.appendChild(div);
                scrollToBottom();
            }

            function showLoading() {
                const id = "loading-" + Date.now();
                const div = document.createElement("div");
                div.classList.add("message", "ai");
                div.id = id;

                div.innerHTML = `
                <div class="avatar ai-avatar">${getAiIcon()}</div>
                <div class="message-content">
                    <div class="loading-wrapper">
                        <div class="typing-indicator">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                        <span id="${id}-text" class="status-text">Analyzing your problem...</span>
                    </div>
                </div>
            `;
                chatContainer.appendChild(div);
                scrollToBottom();
                return id;
            }

            function removeLoading(id) {
                const el = document.getElementById(id);
                if (el) el.remove();
            }

            function scrollToBottom() {
                setTimeout(() => {
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                }, 50);
            }

            sendBtn.addEventListener("click", sendMessage);
            inputField.addEventListener("keypress", (e) => {
                if (e.key === "Enter") {
                    sendMessage();
                }
            });
        </script>
    </body>
</html>
